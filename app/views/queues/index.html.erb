 <% 
 stati =  [:running,:queued, :rescheduled, :canceled, :success, :failed, :error] 
 %>
 <style type="text/css">
    <%= code_ray_style %>
 </style>
 <style type="text/css">
      body { font-family:Arial, Helvetica, Sans-Serif; font-size:0.8em;}
      .status_table  { border-collapse:collapse;}
      .status_table h4 { margin:0px; padding:0px;}
      .status_table img { float:right;}
      .status_table ul { margin:10px 0 10px 40px; padding:0px;}
      .status_table th { background:#7CB8E2 url(header_bkg.png) repeat-x scroll center left; color:#fff; padding:7px 15px; text-align:left;}
      .status_table td { background:#C7DDEE none repeat-x scroll center left; color:#000; padding:7px 15px; }
     .status_table tr.odd td { background:#fff url(row_bkg.png) repeat-x scroll center left; cursor:pointer; }
     .status_table div.arrow { background:transparent url(arrows.png) no-repeat scroll 0px -16px; width:16px; height:16px; display:block;}
      .status_tablet div.up { background-position:0px 0px;}
  </style>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript"></script>
  <script type="text/javascript">  
      $(document).ready(function(){
        <% stati.each do |status| %>
          $("#<%=status%>_table tr:odd").addClass("odd");
          $("#<%=status%>_table tr:not(.odd)").hide();
          $("#<%=status%>_table tr:first-child").show();
          
          $("#<%=status%>_table tr.odd").click(function(){
              $(this).next("tr").toggle();
              $(this).find(".arrow").toggleClass("up");
          });
        <% end %>
          //$("#report").jExpand();
      });
  </script>
  

   <% stati.each do |status| %>
       <%= render :partial=>"queues/job_view" , locals:{job_logs: JobLog.all(conditions:{status:status}), status:status} %>
    <% end %> 
   
